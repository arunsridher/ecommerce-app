(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[0],{55:function(t,e,a){t.exports=a(73)},60:function(t,e,a){},73:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),c=a(19),s=a.n(c),o=(a(60),a(9)),i=a(10),u=a(12),l=a(11),p=a(78),d=a(79),m=a(77),h=a(76),f=a(21),b=a(22),g=a(24),E=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props.cartSize;return n.a.createElement("div",null,n.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"sm"},n.a.createElement(p.a.Brand,null,n.a.createElement(g.b,{to:"/",style:{textDecoration:"none",color:"#aaa"}},"eCommerce")),n.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(d.a,{className:"mr-auto"},n.a.createElement(d.a.Link,null,n.a.createElement(g.b,{exact:!0,to:"/",style:{textDecoration:"none",color:"#aaa"},activeStyle:{color:"#fff"}},"Home")),n.a.createElement(d.a.Link,null,n.a.createElement(g.b,{to:"/add",style:{textDecoration:"none",color:"#aaa"},activeStyle:{color:"#fff"}},"Add Product")),n.a.createElement(d.a.Link,null,n.a.createElement(g.b,{to:"/edit",style:{textDecoration:"none",color:"#aaa"},activeStyle:{color:"#fff"}},"Manage Products"))),n.a.createElement(m.a,{inline:!0},n.a.createElement(g.b,{to:"/cart"},n.a.createElement(h.a,{variant:"outline-info"},n.a.createElement(f.a,{icon:b.a})," ",n.a.createElement("sup",{className:"cart-size"},0!==t?t:"")))))))}}]),a}(r.Component),v=a(28),O=a(13);function y(){return function(t){fetch("https://my-json-server.typicode.com/arunsridher/ecommerce-app/products").then((function(t){return t.json()})).then((function(e){console.log(e),t(function(t){return{type:"ADD_PRODUCTS",products:t}}(e))}))}}function j(t){return function(e){fetch("http://localhost:3004/products",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){console.log(t),e(function(t){return{type:"ADD_PRODUCT_TO_LIST",product:t}}(t))}))}}function C(t){return{type:"REMOVE_PRODUCT_FROM_CART",productId:t}}function N(t,e){return function(a){var r="http://localhost:3004/products/".concat(t);fetch(r,{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){console.log(t)}))}}function P(t){return function(e){var a="http://localhost:3004/products/".concat(t);fetch(a,{method:"DELETE"}).then((function(t){return t.json()})).then((function(a){e({type:"DELETE_PRODUCT",productId:t})}))}}var D=a(16),T=a.n(D),A=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).handleClick=function(t){var e=t.target.id;"Add to Cart"===t.target.innerHTML?(r.props.dispatch(function(t){return{type:"ADD_PRODUCT_TO_CART",productId:t}}(e)),"success"===r.props.state.status&&(t.target.innerHTML="Remove from Cart",t.target.className="btn-danger")):(r.props.dispatch(C(e)),"success"===r.props.state.status&&(t.target.innerHTML="Add to Cart",t.target.className="btn-success"))},r.toggleSort=function(t){if(r.state.sortEnabled)t.target.className="btn-success",t.target.innerHTML="Sort By Price",r.setState({sortEnabled:!1});else{var e=r.props.state.productsList,a=Object(v.a)(e);a.sort((function(t,e){return t.price-e.price})),t.target.className="btn-danger",t.target.innerHTML="Reset",r.setState({sortEnabled:!0,sortedData:a})}},r.state={sortEnabled:!1,sortedData:[]},r}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(t){var e=this;t.value!==this.props&&""!==this.props.state.status&&T.a.fire({text:this.props.state.message,icon:this.props.state.status,showConfirmButton:!1,timer:1e3,position:"top",toast:!0}).then((function(){e.props.dispatch({type:"CLEAR_MESSAGE_STATE",status:"",message:""})}))}},{key:"render",value:function(){var t=this;console.log("State ",this.props.state);var e=this.state.sortEnabled?this.state.sortedData:this.props.state.productsList,a=this.props.state.cart;return n.a.createElement("div",{className:"products-container"},n.a.createElement("div",{className:"products-list"},e.map((function(e,r){return n.a.createElement(U,{product:e,key:"product-".concat(r),dispatch:t.props.dispatch,handleClick:t.handleClick,label:a.includes(e.id.toString())?"Remove from Cart":"Add to Cart",className:a.includes(e.id.toString())?"btn-danger":"btn-success"})}))),n.a.createElement("div",{className:"products-sort"},n.a.createElement("button",{type:"button",className:"btn-success",onClick:this.toggleSort},"Sort By Price")))}}]),a}(r.Component);var k=Object(O.b)((function(t){return{state:t}}))(A),S=a(26),R=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).handleInput=function(t){r.setState(Object(S.a)({},t.target.name,t.target.value))},r.isEmpty=function(t){return void 0===t||""===t.trim()},r.showAlert=function(t){T.a.fire({text:t,icon:"error",showConfirmButton:!1,timer:1e3,position:"center"})},r.addProduct=function(){if(r.isEmpty(r.state.name))r.showAlert("Please provide the name of the product");else if(r.isEmpty(r.state.description))r.showAlert("Please provide the description of the product");else if(r.isEmpty(r.state.price)||"0"===r.state.price)r.showAlert("Please provide the price of the product");else if(r.isEmpty(r.state.img))r.showAlert("Please provide the image URL of the product");else{var t={name:r.state.name,description:r.state.description,price:r.state.price,rating:r.state.rating,img:r.state.img};r.props.dispatch(j(t)),"success"===r.props.state.status&&r.resetForm(),T.a.fire({text:"Product added successfully",icon:"success",showConfirmButton:!1,timer:1e3,position:"top",toast:!0})}},r.resetForm=function(){r.setState({name:"",description:"",price:"",rating:0,img:""})},r.state={name:"",description:"",price:"",rating:0,img:""},r}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",{className:"page-heading"},"ADD PRODUCT"),n.a.createElement("form",{id:"add-product-form"},n.a.createElement("div",{className:"input-group"},n.a.createElement("label",{htmlFor:"name"},"Name *"),n.a.createElement("input",{type:"text",id:"name",className:"custom-input",name:"name",onChange:this.handleInput,value:this.state.name,required:!0})),n.a.createElement("div",{className:"input-group"},n.a.createElement("label",{htmlFor:"description"},"Description *"),n.a.createElement("textarea",{id:"description",className:"custom-input",name:"description",onChange:this.handleInput,value:this.state.description,rows:"3",cols:"30",required:!0})),n.a.createElement("div",{className:"input-group"},n.a.createElement("label",{htmlFor:"price"},"Price *"),n.a.createElement("input",{type:"number",id:"price",className:"custom-input",name:"price",onChange:this.handleInput,value:this.state.price,required:!0})),n.a.createElement("div",{className:"input-group"},n.a.createElement("label",{htmlFor:"rating"},"Rating *"),n.a.createElement("input",{type:"range",min:"0",max:"5",step:"0.1",id:"rating",className:"custom-input",name:"rating",onChange:this.handleInput,value:this.state.rating,required:!0})),n.a.createElement("div",{className:"input-group"},n.a.createElement("label",{htmlFor:"img"},"URL *"),n.a.createElement("input",{type:"url",id:"img",className:"custom-input",name:"img",onChange:this.handleInput,value:this.state.img,required:!0})),n.a.createElement("div",{className:"input-button-group"},n.a.createElement("button",{type:"button",className:"btn-success",onClick:this.addProduct},"Add Product"),n.a.createElement("button",{type:"button",className:"btn-danger"},"Reset"))))}}]),a}(r.Component);var L=Object(O.b)((function(t){return{state:t}}))(R),w=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this,e=this.props.state.productsList;return n.a.createElement("div",null,e.map((function(e,a){return n.a.createElement(B,{product:e,key:"product-".concat(e.id,"-").concat(a,"-").concat(e.name),dispatch:t.props.dispatch})})))}}]),a}(r.Component);var x=Object(O.b)((function(t){return{state:t}}))(w),_=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).handleClick=function(e){var a=e.target.id;console.log(e.target),t.props.dispatch(C(a)),T.a.fire({text:"Product removed from cart",icon:"success",showConfirmButton:!1,timer:1e3,position:"top",toast:!0})},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this,e=this.props.state,a=e.productsList,r=e.cart;return n.a.createElement("div",null,a.map((function(e,a){return r.includes(e.id.toString())?n.a.createElement(U,{product:e,key:"product-".concat(a),dispatch:t.props.dispatch,handleClick:t.handleClick,label:"Remove from Cart",className:"btn-danger"}):null})),0===r.length?n.a.createElement("div",{className:"cart-empty"},"Cart is Empty!"):null)}}]),a}(r.Component);var I=Object(O.b)((function(t){return{state:t}}))(_),U=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props,e=t.product,a=t.handleClick,r=t.label,c=t.className;return n.a.createElement("div",{className:"product-card"},n.a.createElement("div",{className:"product-image"},n.a.createElement("img",{src:e.img,alt:e.name})),n.a.createElement("div",{className:"product-description"},n.a.createElement("h3",null,e.name),n.a.createElement("p",{className:"rating-container"},n.a.createElement("span",{className:"rating"},e.rating),n.a.createElement(f.a,{className:"star-icon",icon:b.c})),n.a.createElement("p",null,e.description)),n.a.createElement("div",{className:"product-options"},n.a.createElement("div",{className:"price"},"\u20b9 ",e.price),n.a.createElement("button",{type:"button",id:e.id,onClick:a,className:"add-to-cart "+c},r)))}}]),a}(r.Component),M=function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).isEmpty=function(t){return void 0===t||""===t.trim()},r.showAlert=function(t){T.a.fire({text:t,icon:"error",showConfirmButton:!1,timer:1e3,position:"center"})},r.handleInput=function(t){return"rating"===t.target.name&&(t.target.value<0||t.target.value>5)?(r.showAlert("Rating cannot be greater than 5"),void(t.target.value=r.state.rating)):"price"===t.target.name&&t.target.value<=0?(r.showAlert("Price cannot be less than 0 or empty"),void(t.target.value=r.state.rating)):void r.setState(Object(S.a)({},t.target.name,t.target.value))},r.updateProduct=function(){if(r.isEmpty(r.state.name))r.showAlert("Please provide the name of the product");else if(r.isEmpty(r.state.description))r.showAlert("Please provide the description of the product");else if(""!=r.state.price&&"0"!==r.state.price){var t=r.props.product.id,e=r.props.product.img,a={name:r.state.name,description:r.state.description,rating:r.state.rating,price:r.state.price,img:e};r.props.dispatch(N(t,a)),T.a.fire({text:"Product updated successfully",icon:r.props.state.status,showConfirmButton:!1,timer:1e3,position:"top",toast:!0})}else r.showAlert("Please provide the price of the product")},r.deleteProduct=function(){var t=r.props.product.id;console.log("id",t),r.props.dispatch(P(t)),T.a.fire({text:"Product deleted from cart",icon:r.props.state.status,showConfirmButton:!1,timer:1e3,position:"top",toast:!0})},r.state={name:r.props.product.name,description:r.props.product.description,rating:r.props.product.rating,price:r.props.product.price},r}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props.product;return n.a.createElement("div",{className:"product-card"},n.a.createElement("div",{className:"product-image"},n.a.createElement("img",{src:t.img,alt:t.name})),n.a.createElement("div",{className:"product-description"},n.a.createElement("h3",null,n.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInput,style:{border:0},required:!0})),n.a.createElement("p",{className:"rating-container",style:{width:"50px",height:"25px"}},n.a.createElement("span",{className:"rating"},n.a.createElement("input",{type:"number",name:"rating",value:this.state.rating,onChange:this.handleInput,min:"0",max:"5",style:{width:"25px",border:0,backgroundColor:"#388E3C"},required:!0})),n.a.createElement(f.a,{className:"star-icon",icon:b.c})),n.a.createElement("p",null,n.a.createElement("textarea",{className:"description",name:"description",value:this.state.description,onChange:this.handleInput,rows:"3",cols:"54",style:{border:0},required:!0}))),n.a.createElement("div",{className:"product-options"},n.a.createElement("div",{className:"price"},"\u20b9 ",n.a.createElement("input",{type:"number",name:"price",value:this.state.price,onChange:this.handleInput,style:{width:"80px",border:0},required:!0})),n.a.createElement("div",{className:"options"},n.a.createElement("div",{onClick:this.updateProduct,className:"options-button"},n.a.createElement(f.a,{className:"edit-icon",icon:b.b})," Update"),n.a.createElement("div",{onClick:this.deleteProduct,className:"options-button"},n.a.createElement(f.a,{className:"delete-icon",icon:b.d})," Delete"))))}}]),a}(r.Component);var B=Object(O.b)((function(t){return{state:t}}))(M);var q=function(t){return n.a.createElement("div",null,n.a.createElement("h1",null,"404: Nothing found here!"))},F=a(6),H=(a(70),function(t){Object(u.a)(a,t);var e=Object(l.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(y())}},{key:"render",value:function(){var t=this.props.cart.length;return n.a.createElement(g.a,null,n.a.createElement("div",null,n.a.createElement(E,{cartSize:t}),n.a.createElement(F.c,null,n.a.createElement(F.a,{exact:!0,path:"/",component:k}),n.a.createElement(F.a,{path:"/add",component:L}),n.a.createElement(F.a,{path:"/edit",component:x}),n.a.createElement(F.a,{path:"/cart",component:I}),n.a.createElement(F.a,{component:q}))))}}]),a}(r.Component));var J=Object(O.b)((function(t){return t}))(H),z=a(17),G=a(52),V=a(7),K={productsList:[],cart:[],status:"",message:""};var Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_PRODUCTS":return Object(V.a)(Object(V.a)({},t),{},{productsList:e.products,status:"success",message:"Products fetched successfully"});case"ADD_PRODUCT_TO_LIST":var a=t.cart.some((function(t){return t.id===e.product.id}));return a?Object(V.a)(Object(V.a)({},t),{},{status:"failure",message:"Product already exists"}):Object(V.a)(Object(V.a)({},t),{},{productsList:[e.product].concat(Object(v.a)(t.productsList)),status:"success",message:"Product added successfully"});case"ADD_PRODUCT_TO_CART":var r=t.cart.some((function(t){return t===e.productId}));return r?Object(V.a)(Object(V.a)({},t),{},{status:"failure",message:"Product already added to cart"}):Object(V.a)(Object(V.a)({},t),{},{cart:[e.productId].concat(Object(v.a)(t.cart)),status:"success",message:"Product added to cart"});case"REMOVE_PRODUCT_FROM_CART":var n=t.cart.filter((function(t){return t!==e.productId}));return n.length===t.cart?Object(V.a)(Object(V.a)({},t),{},{status:"failure",message:"Product doesnt exist in the cart"}):Object(V.a)(Object(V.a)({},t),{},{cart:n,status:"success",message:"Product removed from cart"});case"UPDATE_PRODUCT":var c=t.productsList.map((function(t){return t.id===e.product.id?e.product:t}));return Object(V.a)(Object(V.a)({},t),{},{productsList:c,status:"success",message:"Product updated successfully"});case"CLEAR_MESSAGE_STATE":return Object(V.a)(Object(V.a)({},t),{},{status:e.status,message:e.message});case"DELETE_PRODUCT":var s=t.productsList.filter((function(t){return t.id!==e.productId}));return Object(V.a)(Object(V.a)({},t),{},{productsList:s,status:"success",message:"Product deleted from cart"});default:return t}},W=a(53),X=a.n(W),Y=a(43),Z=a(54),$={key:"cart",storage:a.n(Z).a,whitelist:["cart"]},tt=Object(Y.a)($,Q),et=Object(z.a)(G.a,X.a),at=Object(z.d)(tt,et);Object(Y.b)(at);s.a.render(n.a.createElement(O.a,{store:at},n.a.createElement(n.a.StrictMode,null,n.a.createElement(J,null))),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.d616e4da.chunk.js.map